syntax = "proto3";

package vixen.parser.token;

enum AccountState {
  ACCOUNT_STATE_UNINITIALIZED = 0;
  ACCOUNT_STATE_INITIALIZED = 1;
  ACCOUNT_STATE_FROZEN = 2;
}

message TokenAccount {
  string mint = 1;
  string owner = 2;
  uint64 amount = 3;
  optional string delegate = 4;
  AccountState state = 5;
  optional uint64 is_native = 6;
  uint64 delegated_amount = 7;
  optional string close_authority = 8;
}

message Mint {
  optional string mint_authority = 1;
  uint64 supply = 2;
  uint32 decimals = 3;
  bool is_initialized = 4;
  optional string freeze_authority = 5;
}

message Multisig {
  uint32 m = 1;
  uint32 n = 2;
  bool is_initialized = 3;
  repeated string signers = 4;
}

enum AuthorityType {
  AUTHORITY_TYPE_MINT_TOKENS = 0;
  AUTHORITY_TYPE_FREEZE_ACCOUNT = 1;
  AUTHORITY_TYPE_ACCOUNT_OWNER = 2;
  AUTHORITY_TYPE_CLOSE_ACCOUNT = 3;
}

message TransferAccounts {
  string source = 1;
  string destination = 2;
  string owner = 3;
  repeated string multisig_signers = 4;
}

message TransferArgs { uint64 amount = 1; }

message Transfer {
  TransferAccounts accounts = 1;
  TransferArgs args = 2;
}

message InitializeMintAccounts { string mint = 1; }

message InitializeMintArgs {
  uint32 decimals = 1;
  string mint_authority = 2;
  optional string freeze_authority = 3;
}

message InitializeMint {
  InitializeMintAccounts accounts = 1;
  InitializeMintArgs args = 2;
}

message InitializeAccountAccounts {
  string account = 1;
  string mint = 2;
  string owner = 3;
}

message InitializeAccount { InitializeAccountAccounts accounts = 1; }

message InitializeAccount2Accounts {
  string account = 1;
  string mint = 2;
}

message InitializeAccount2Args { string owner = 1; }

message InitializeAccount2 {
  InitializeAccount2Accounts accounts = 1;
  InitializeAccount2Args args = 2;
}

message InitializeAccount3 {
  InitializeAccount2Accounts accounts = 1;
  InitializeAccount2Args args = 2;
}

message InitializeMultisigAccounts {
  string multisig = 1;
  repeated string signers = 2;
}

message InitializeMultisigArgs { uint32 m = 1; }

message InitializeMultisig {
  InitializeMultisigAccounts accounts = 1;
  InitializeMultisigArgs args = 2;
}

message ApproveAccounts {
  string source = 1;
  string delegate = 2;
  string owner = 3;
  repeated string multisig_signers = 4;
}

message ApproveArgs { uint64 amount = 1; }

message Approve {
  ApproveAccounts accounts = 1;
  ApproveArgs args = 2;
}

message RevokeAccounts {
  string source = 1;
  string owner = 2;
  repeated string multisig_signers = 3;
}

message Revoke { RevokeAccounts accounts = 1; }

message SetAuthorityAccounts {
  string current_authority = 1;
  string account = 2;
  repeated string multisig_signers = 3;
}

message SetAuthorityArgs {
  AuthorityType authority_type = 1;
  optional string new_authority = 2;
}

message SetAuthority {
  SetAuthorityAccounts accounts = 1;
  SetAuthorityArgs args = 2;
}

message MintToAccounts {
  string mint = 1;
  string account = 2;
  string mint_authority = 3;
  repeated string multisig_signers = 4;
}

message MintToArgs { uint64 amount = 1; }

message MintTo {
  MintToAccounts accounts = 1;
  MintToArgs args = 2;
}

message BurnAccounts {
  string account = 1;
  string mint = 2;
  string owner = 3;
  repeated string multisig_signers = 4;
}

message BurnArgs { uint64 amount = 1; }

message Burn {
  BurnAccounts accounts = 1;
  BurnArgs args = 2;
}

message CloseAccountAccounts {
  string account = 1;
  string destination = 2;
  string owner = 3;
  repeated string multisig_signers = 4;
}

message CloseAccount { CloseAccountAccounts accounts = 1; }

message FreezeAccountAccounts {
  string account = 1;
  string mint = 2;
  string mint_freeze_authority = 3;
  repeated string multisig_signers = 4;
}

message FreezeAccount { FreezeAccountAccounts accounts = 1; }

message ThawAccountAccounts {
  string account = 1;
  string mint = 2;
  string mint_freeze_authority = 3;
  repeated string multisig_signers = 4;
}

message ThawAccount { ThawAccountAccounts accounts = 1; }

message TransferCheckedAccounts {
  string source = 1;
  string mint = 2;
  string destination = 3;
  string owner = 4;
  repeated string multisig_signers = 5;
}

message TransferCheckedArgs {
  uint64 amount = 1;
  uint32 decimals = 2;
}

message TransferChecked {
  TransferCheckedAccounts accounts = 1;
  TransferCheckedArgs args = 2;
}

message ApproveCheckedAccounts {
  string source = 1;
  string mint = 2;
  string delegate = 3;
  string owner = 4;
  repeated string multisig_signers = 5;
}

message ApproveCheckedArgs {
  uint64 amount = 1;
  uint32 decimals = 2;
}

message ApproveChecked {
  ApproveCheckedAccounts accounts = 1;
  ApproveCheckedArgs args = 2;
}

message MintToCheckedAccounts {
  string mint = 1;
  string account = 2;
  string mint_authority = 3;
  repeated string multisig_signers = 4;
}

message MintToCheckedArgs {
  uint64 amount = 1;
  uint32 decimals = 2;
}

message MintToChecked {
  MintToCheckedAccounts accounts = 1;
  MintToCheckedArgs args = 2;
}

message BurnCheckedAccounts {
  string account = 1;
  string mint = 2;
  string owner = 3;
  repeated string multisig_signers = 4;
}

message BurnCheckedArgs {
  uint64 amount = 1;
  uint32 decimals = 2;
}

message BurnChecked {
  BurnCheckedAccounts accounts = 1;
  BurnCheckedArgs args = 2;
}

message SyncNativeAccounts { string account = 1; }

message SyncNative { SyncNativeAccounts accounts = 1; }

message GetAccountDataSizeAccounts { string mint = 1; }

message GetAccountDataSize { GetAccountDataSizeAccounts accounts = 1; }

message InitializeImmutableOwnerAccounts { string account = 1; }

message InitializeImmutableOwner {
  InitializeImmutableOwnerAccounts accounts = 1;
}

message AmountToUiAmountAccounts { string mint = 1; }

message AmountToUiAmountArgs { uint64 amount = 1; }

message AmountToUiAmount {
  AmountToUiAmountAccounts accounts = 1;
  AmountToUiAmountArgs args = 2;
}

message UiAmountToAmountAccounts { string mint = 1; }

message UiAmountToAmountArgs { string ui_amount = 1; }

message UiAmountToAmount {
  UiAmountToAmountAccounts accounts = 1;
  UiAmountToAmountArgs args = 2;
}

message TokenProgramState {
  oneof state {
    TokenAccount token_account = 1;
    Mint mint = 2;
    Multisig multisig = 3;
  }
}

message TokenProgramInstruction {
  oneof instruction {
    Transfer transfer = 1;
    InitializeMint initialize_mint = 2;
    InitializeAccount initialize_account = 3;
    InitializeAccount2 initialize_account2 = 4;
    InitializeAccount3 initialize_account3 = 5;
    InitializeMultisig initialize_multisig = 6;
    Approve approve = 7;
    Revoke revoke = 8;
    SetAuthority set_authority = 9;
    MintTo mint_to = 10;
    Burn burn = 11;
    CloseAccount close_account = 12;
    FreezeAccount freeze_account = 13;
    ThawAccount thaw_account = 14;
    TransferChecked transfer_checked = 15;
    ApproveChecked approve_checked = 16;
    MintToChecked mint_to_checked = 17;
    BurnChecked burn_checked = 18;
    SyncNative sync_native = 19;
    GetAccountDataSize get_account_data_size = 20;
    InitializeImmutableOwner initialize_immutable_owner = 21;
    AmountToUiAmount amount_to_ui_amount = 22;
    UiAmountToAmount ui_amount_to_amount = 23;
  }
}
